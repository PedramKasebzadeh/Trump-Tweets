acc =table(full$bing_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$afin_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$nrc_score,y)
sum(diag(acc)) / sum(acc)
bing = read.csv('bing_Clusters_5.csv')
full = bing
y =c()
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,1,ifelse(full$cluster[i]==2,0,-1))
}
acc =table(full$bing_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$afin_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$nrc_score,y)
sum(diag(acc)) / sum(acc)
length(which(bing$cluster==1))
length(which(bing$cluster==0))
length(which(bing$cluster==2))
length(which(bing$afin_score==1))
#[1] 3912
length(which(bing$afin_score==0))
#[1] 7336
length(which(bing$afin_score==-1))
y =c()
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,1,ifelse(full$cluster[i]==2,1,-1))
}
acc =table(full$bing_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$afin_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$nrc_score,y)
sum(diag(acc)) / sum(acc)
y[i] = ifelse(full$cluster[i]==1,-1,ifelse(full$cluster[i]==2,1,0))
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,-1,ifelse(full$cluster[i]==2,1,0))
}
acc =table(full$bing_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$afin_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$nrc_score,y)
sum(diag(acc)) / sum(acc)
y[i] = ifelse(full$cluster[i]==1,0,ifelse(full$cluster[i]==2,1,-1))
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,0,ifelse(full$cluster[i]==2,1,-1))
}
acc =table(full$bing_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$afin_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$nrc_score,y)
sum(diag(acc)) / sum(acc)
bing = read.csv('bing_Clusters_5.csv')
full = bing
y =c()
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,0,ifelse(full$cluster[i]==2,1,-1))
}
acc =table(full$bing_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$afin_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$nrc_score,y)
sum(diag(acc)) / sum(acc)
bing = read.csv('bing_Clusters_4.csv')
full = bing
y =c()
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,0,ifelse(full$cluster[i]==2,1,-1))
}
acc =table(full$bing_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$afin_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$nrc_score,y)
sum(diag(acc)) / sum(acc)
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,-1,ifelse(full$cluster[i]==2,1,0))
}
acc =table(full$bing_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$afin_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$nrc_score,y)
sum(diag(acc)) / sum(acc)
y[i] = ifelse(full$cluster[i]==1,0,ifelse(full$cluster[i]==2,1,0))
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,0,ifelse(full$cluster[i]==2,1,0))
}
acc =table(full$bing_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$afin_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$nrc_score,y)
sum(diag(acc)) / sum(acc)
bing = read.csv('bing_Clusters_4.csv')
full = bing
y =c()
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,0,ifelse(full$cluster[i]==2,1,-1))
}
acc =table(full$bing_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$afin_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$nrc_score,y)
sum(diag(acc)) / sum(acc)
bing = read.csv('bing_Clusters_5 .csv')
full = bing
bing = read.csv('bing_Clusters_5.csv')
full = bing
y =c()
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,0,ifelse(full$cluster[i]==2,1,-1))
}
acc =table(full$bing_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$afin_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$nrc_score,y)
sum(diag(acc)) / sum(acc)
bing = read.csv('bing_Clusters_5.csv')
full = bing
y =c()
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,0,ifelse(full$cluster[i]==2,1,-1))
}
acc =table(full$bing_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$afin_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$nrc_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$bing_score,full$cluster)
sum(diag(acc)) / sum(acc)
acc =table(full$afin_score,full$cluster)
sum(diag(acc)) / sum(acc)
acc
acc =table(full$nrc_score,y)
sum(diag(acc)) / sum(acc)
acc
table(full$bing_score,y)
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,0,ifelse(full$cluster[i]==2,1,-1))
}
table(full$bing_score,y)
y[i] = ifelse(full$cluster[i]==1,0,ifelse(full$cluster[i]==2,0,0))
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,0,ifelse(full$cluster[i]==2,0,0))
}
table(full$bing_score,y)
y[i] = ifelse(full$cluster[i]==1,1,ifelse(full$cluster[i]==2,0,0))
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,1,ifelse(full$cluster[i]==2,0,0))
}
table(full$bing_score,y)
y[i] = ifelse(full$cluster[i]==1,1,ifelse(full$cluster[i]==2,0,-1))
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,1,ifelse(full$cluster[i]==2,0,-1))
}
table(full$bing_score,y)
y[i] = ifelse(full$cluster[i]==1,1,ifelse(full$cluster[i]==2,0,-1))
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,1,ifelse(full$cluster[i]==2,0,-1))
}
table(full$bing_score,y)
y[i] = ifelse(full$cluster[i]==1,-1,ifelse(full$cluster[i]==2,0,1))
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,-1,ifelse(full$cluster[i]==2,0,1))
}
table(full$bing_score,y)
acc =table(full$bing_score,y)
sum(diag(acc)) / sum(acc)
y[i] = ifelse(full$cluster[i]==1,0,ifelse(full$cluster[i]==2,-1,1))
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,0,ifelse(full$cluster[i]==2,-1,1))
}
table(full$bing_score,y)
acc =table(full$bing_score,y)
sum(diag(acc)) / sum(acc)
y[i] = ifelse(full$cluster[i]==1,0,ifelse(full$cluster[i]==2,1,-1))
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,0,ifelse(full$cluster[i]==2,1,-1))
}
table(full$bing_score,y)
acc =table(full$bing_score,y)
sum(diag(acc)) / sum(acc)
y[i] = ifelse(full$cluster[i]==1,1,ifelse(full$cluster[i]==2,0,-1))
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,1,ifelse(full$cluster[i]==2,0,-1))
}
table(full$bing_score,y)
acc =table(full$bing_score,y)
sum(diag(acc)) / sum(acc)
y[i] = ifelse(full$cluster[i]==1,1,ifelse(full$cluster[i]==2,-1,0))
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,1,ifelse(full$cluster[i]==2,-1,0))
}
table(full$bing_score,y)
acc =table(full$bing_score,y)
sum(diag(acc)) / sum(acc)
y[i] = ifelse(full$cluster[i]==1,-1,ifelse(full$cluster[i]==2,1,0))
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,-1,ifelse(full$cluster[i]==2,1,0))
}
table(full$bing_score,y)
acc =table(full$bing_score,y)
sum(diag(acc)) / sum(acc)
y[i] = ifelse(full$cluster[i]==1,-1,ifelse(full$cluster[i]==2,0,1))
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,-1,ifelse(full$cluster[i]==2,0,1))
}
table(full$bing_score,y)
acc =table(full$bing_score,y)
sum(diag(acc)) / sum(acc)
y[i] = ifelse(full$cluster[i]==1,1,ifelse(full$cluster[i]==2,0,-1))
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,1,ifelse(full$cluster[i]==2,0,-1))
}
table(full$bing_score,y)
acc =table(full$bing_score,y)
sum(diag(acc)) / sum(acc)
bing = read.csv('bing_Clusters_5.csv')
full = bing
y =c()
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,1,ifelse(full$cluster[i]==2,0,-1))
}
table(full$bing_score,y)
acc =table(full$bing_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$afin_score,full$cluster)
sum(diag(acc)) / sum(acc)
acc =table(full$nrc_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$nrc_score,full$cluster)
sum(diag(acc)) / sum(acc)
table(full$bing_score,full$cluster)
acc =table(full$bing_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$afin_score,full$cluster)
sum(diag(acc)) / sum(acc)
acc =table(full$nrc_score,full$cluster)
sum(diag(acc)) / sum(acc)
bing = read.csv('bing_Clusters_5.csv')
full = bing
table(full$bing_score,full$cluster)
acc =table(full$bing_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$afin_score,full$cluster)
sum(diag(acc)) / sum(acc)
acc =table(full$nrc_score,full$cluster)
sum(diag(acc)) / sum(acc)
full[1:3,]
acc =table(full$bing_score,full$cluster)
sum(diag(acc)) / sum(acc)
acc =table(full$afin_score,full$cluster)
sum(diag(acc)) / sum(acc)
acc =table(full$nrc_score,full$cluster)
sum(diag(acc)) / sum(acc)
y =c()
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,1,ifelse(full$cluster[i]==2,0,-1))
}
acc =table(full$bing_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$afin_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$nrc_score,y)
sum(diag(acc)) / sum(acc)
bing = read.csv('bing_Clusters_5.csv')
full = bing
y =c()
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,1,ifelse(full$cluster[i]==2,0,-1))
}
table(full$bing_score,full$cluster)
acc =table(full$bing_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$afin_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$nrc_score,y)
sum(diag(acc)) / sum(acc)
bing = read.csv('bing_Clusters_5.csv')
full = bing
y =c()
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,1,ifelse(full$cluster[i]==2,0,-1))
}
table(full$bing_score,full$cluster)
acc =table(full$bing_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$afin_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$nrc_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$bing_score,full$cluster)
sum(diag(acc)) / sum(acc)
acc =table(full$afin_score,full$cluster)
sum(diag(acc)) / sum(acc)
acc =table(full$afin_score,y)
sum(diag(acc)) / sum(acc)
acc
acc =table(full$nrc_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$bing_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$afin_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$nrc_score,y)
sum(diag(acc)) / sum(acc)
bing = read.csv('bing_Clusters_5.csv')
full = bing
table(full$bing_score,full$cluster)
y =c()
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,1,ifelse(full$cluster[i]==2,0,-1))
}
table(full$bing_score,full$cluster)
acc =table(full$bing_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$afin_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$nrc_score,y)
sum(diag(acc)) / sum(acc)
bing = read.csv('bing_Clusters_5.csv')
full = bing
y =c()
for(i in 1:nrow(full)){
y[i] = ifelse(full$cluster[i]==1,1,ifelse(full$cluster[i]==2,0,-1))
}
table(full$bing_score,full$cluster)
acc =table(full$bing_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$afin_score,y)
sum(diag(acc)) / sum(acc)
acc =table(full$nrc_score,y)
sum(diag(acc)) / sum(acc)
recal = sum(diag(acc))/(acc[2,1]+acc[3,1]+acc[3,2]+sum(diag(acc)))
Precision = sum(diag(acc))/(sum(diag(acc))+acc[1,2]+acc[1,3]+acc[2,3])
F1scpre  = 2*Precision*recal / (Precision+recal)
F1scpre
Precision
recal
clusters = read.csv('Clusters.csv')
table(clusters$bing_score,clusters$cluster)
y =c()
for(i in 1:nrow(clusters)){
y[i] = ifelse(clusters$cluster[i]==1,1,ifelse(clusters$cluster[i]==2,0,-1))
}
acc =table(clusters$bing_score,y)
sum(diag(acc)) / sum(acc)
acc =table(clusters$afin_score,y)
sum(diag(acc)) / sum(acc)
acc =table(clusters$nrc_score,y)
sum(diag(acc)) / sum(acc)
acc =table(clusters$bing_score,clusters$cluster)
sum(diag(acc)) / sum(acc)
table(clusters$bing_score,clusters$cluster)
acc =table(clusters$afin_score,clusters$cluster)
sum(diag(acc)) / sum(acc)
acc =table(clusters$nrc_score,clusters$cluster)
sum(diag(acc)) / sum(acc)
clusters = read.csv('Clusters.csv')
y =c()
for(i in 1:nrow(clusters)){
y[i] = ifelse(clusters$cluster[i]==1,1,ifelse(clusters$cluster[i]==2,0,-1))
}
table(clusters$bing_score,clusters$cluster)
acc =table(clusters$bing_score,clusters$cluster)
sum(diag(acc)) / sum(acc)
acc =table(clusters$afin_score,clusters$cluster)
sum(diag(acc)) / sum(acc)
acc =table(clusters$nrc_score,clusters$cluster)
sum(diag(acc)) / sum(acc)
clusters = read.csv('Clusters.csv')
clusters = read.csv('Clusters.csv')
y =c()
for(i in 1:nrow(clusters)){
y[i] = ifelse(clusters$cluster[i]==1,1,ifelse(clusters$cluster[i]==2,0,-1))
}
table(clusters$bing_score,clusters$cluster)
acc =table(clusters$bing_score,clusters$cluster)
sum(diag(acc)) / sum(acc)
acc =table(clusters$afin_score,clusters$cluster)
sum(diag(acc)) / sum(acc)
acc =table(clusters$nrc_score,clusters$cluster)
sum(diag(acc)) / sum(acc)
acc =table(clusters$bing_score,y)
sum(diag(acc)) / sum(acc)
acc =table(clusters$afin_score,y)
sum(diag(acc)) / sum(acc)
acc =table(clusters$nrc_score,y)
sum(diag(acc)) / sum(acc)
clusters = read.csv('Clusters.csv')
y =c()
for(i in 1:nrow(clusters)){
y[i] = ifelse(clusters$cluster[i]==1,1,ifelse(clusters$cluster[i]==2,0,-1))
}
table(clusters$bing_score,clusters$cluster)
acc =table(clusters$bing_score,clusters$cluster)
sum(diag(acc)) / sum(acc)
acc =table(clusters$afin_score,clusters$cluster)
sum(diag(acc)) / sum(acc)
acc =table(clusters$nrc_score,clusters$cluster)
sum(diag(acc)) / sum(acc)
test = read.csv('evaluationdata.csv')
head(test)
python = read.csv("fulldata.csv")
python = python[,c(2,4,5,6,7)]
head(python)
length(which(python$bing_score==0))
nrow(python)
python= python[ind[1]:nrow(python),]
ind=which(python$Date=="2017-01-20")
python= python[ind[1]:nrow(python),]
nrow(python)
length(which(python$bing_score==0))
nrow(python)
(!which(python$bing_score==0))
nrow(python)
(which(python$bing_score==0))
length(python$bing_score)
(which(python$bing_score==0 | python$nrc_score==0))
length(which(python$bing_score==0 | python$nrc_score==0 | python$afin_score==0))
length(which(python$bing_score==0 | python$nrc_score==0 ))
length(which(python$bing_score==0 ))
length(which(python$bing_score==0 | python$nrc_score==0 | python$afin_score==0 ))
python2 = python[!which(python$bing_score==0 | python$nrc_score==0 | python$afin_score==0 )]
python2
python2 =python[!which(python$bing_score==0 | python$nrc_score==0 | python$afin_score==0 ),]
python2
!which(python$bing_score==0 | python$nrc_score==0 | python$afin_score==0 )
length(which(python$bing_score==0 | python$nrc_score==0 | python$afin_score==0 ))
length(!which(python$bing_score==0 | python$nrc_score==0 | python$afin_score==0 ))
length(!which(python$bing_score==0 | python$nrc_score==0 | python$afin_score==0 ))
length(!which(python$bing_score==0 || python$nrc_score==0 | python$afin_score==0 ))
length(which(python$bing_score==0 || python$nrc_score==0 || python$afin_score==0 ))
which(python$bing_score==0 || python$nrc_score==0 || python$afin_score==0 )
python
python[1,]
python$bing_score==0
python$bing_score==0 || python$nrc_score==0
python
python2=python[!(which(python$bing_score==0))]
python2
python2=python[(which(python$bing_score==0))]
python2=python[(which(python$bing_score==0))]
(which(python$bing_score==0))
python[(which(python$bing_score==0))]
python[(which(python$bing_score==0)),]
python2=python[(which(python$bing_score==0)),]
python2
python2=python[!(which(python$bing_score==0)),]
python2
python2=python[(!which(python$bing_score==0)),]
python2
python
python$bing_score==0
python2=python[(!(python$bing_score==0)),]
python2
python2=python[(!(python2$nrc_score==0)),]
python2=python[(!(python$bing_score==0)),]
python2=python2[(!(python2$nrc_score==0)),]
python2=python2[(!(python2$afin_score==0)),]
python2
python2$bing_score = ifelse(python2$bing_score>0,1,ifelse(python2$bing_score<0,-1,0))
python2$nrc_score = ifelse(python2$nrc_score>0,1,ifelse(python2$nrc_score<0,-1,0))
python2$afin_score = ifelse(python2$afin_score>0,1,ifelse(python2$afin_score<0,-1,0))
write.csv(python,"evaluationdata2.csv")
write.csv(python2,"evaluationdata2.csv")
clusters = read.csv('Clusters7000.csv')
acc =table(clusters$bing_score,clusters$cluster)
sum(diag(acc)) / sum(acc)
acc =table(clusters$afin_score,clusters$cluster)
sum(diag(acc)) / sum(acc)
acc =table(clusters$nrc_score,clusters$cluster)
sum(diag(acc)) / sum(acc)
source('~/.active-rstudio-document', echo=TRUE)
write.csv(python2,"evaluationdata.csv")
# using the full data set with related columns
python = read.csv("fulldata.csv")
python
head(python)
# using the full data set with related columns
python = read.csv("fulldata.csv")
python = python[,c(2,4,5,6,7)]
# specifing the time since Trump was president
ind=which(python$Date=="2017-01-20")
python= python[ind[1]:nrow(python),]
# removing neutral sentiments
python=python[(!(python$bing_score==0)),]
python=python2[(!(python$nrc_score==0)),]
python=python2[(!(python$afin_score==0)),]
# scailing the scores
python$bing_score = ifelse(python$bing_score>0,1,ifelse(python$bing_score<0,-1,0))
python=python[(!(python$nrc_score==0)),]
python=python[(!(python$afin_score==0)),]
# removing neutral sentiments
python=python[(!(python$bing_score==0)),]
# scailing the scores
python$bing_score = ifelse(python$bing_score>0,1,ifelse(python$bing_score<0,-1,0))
python$nrc_score = ifelse(python$nrc_score>0,1,ifelse(python$nrc_score<0,-1,0))
python$afin_score = ifelse(python$afin_score>0,1,ifelse(python$afin_score<0,-1,0))
# Saving output
write.csv(python,"evaluationdata.csv")
Trump= read.csv("Full-dataset.csv",
quote = "",row.names = NULL,stringsAsFactors=FALSE)
